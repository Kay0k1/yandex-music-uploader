# üéµ Yandex Music Uploader Bot ‚Äì –±–æ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤ –≤ —Å–≤–æ–π –ø–ª–µ–π–ª–∏—Å—Ç –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–∏

–ü—Ä–æ—Å—Ç–æ–π –∏ —É–¥–æ–±–Ω—ã–π –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ç–≤–æ–∏ –ª—é–±–∏–º—ã–µ **.mp3** —Ç—Ä–µ–∫–∏ (—Ä–µ–º–∏–∫—Å—ã, –¥–µ–º–∫–∏, –º—ç—à–∞–ø—ã) –ø—Ä—è–º–æ –≤ –ø–ª–µ–π–ª–∏—Å—Ç—ã –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏.

---

## üöÄ –ß—Ç–æ –æ–Ω —É–º–µ–µ—Ç?

*   üì§ **–ó–∞–≥—Ä—É–∑–∫–∞ MP3**: –ö–∏–¥–∞–µ—à—å —Ñ–∞–π–ª –≤ Telegram ‚Äî –æ–Ω –∑–∞–ª–µ—Ç–∞–µ—Ç –≤ —Ç–≤–æ–π –ø–ª–µ–π–ª–∏—Å—Ç.
*   üñº **–ê–≤—Ç–æ-—Ç–µ–≥–∏ –∏ –û–±–ª–æ–∂–∫–∏**: –ë–æ—Ç –≤—ã—Ç–∞—Å–∫–∏–≤–∞–µ—Ç –æ–±–ª–æ–∂–∫—É, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä—è–º–æ –∏–∑ —Ñ–∞–π–ª–∞ (ID3 tags). –í –Ø–Ω–¥–µ–∫—Å —Ç—Ä–µ–∫ –ø–æ–ø–∞–¥–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–º.
*   üìÇ **–í—ã–±–æ—Ä –ø–ª–µ–π–ª–∏—Å—Ç–∞**: –°–∞–º —Ä–µ—à–∞–µ—à—å, –≤ –∫–∞–∫–æ–π –ø–ª–µ–π–ª–∏—Å—Ç –≥—Ä—É–∑–∏—Ç—å –º—É–∑—ã–∫—É.
*   üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –¢–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —É –∫–∞–∂–¥–æ–≥–æ —é–∑–µ—Ä–∞ —Å–≤–æ–π –¥–æ—Å—Ç—É–ø.
*   üëÆ‚Äç‚ôÇÔ∏è **–ê–¥–º–∏–Ω–∫–∞**: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–∫—Ç–æ —Å–∫–æ–ª—å–∫–æ –∑–∞–≥—Ä—É–∑–∏–ª) –∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç—Ä–µ–∫–æ–≤.

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

*   **–Ø–∑—ã–∫**: Python 3.11
*   **–§—Ä–µ–π–º–≤–æ—Ä–∫**: [Aiogram 3.x](https://docs.aiogram.dev/)
*   **–ë–î**: PostgreSQL + SQLAlchemy (Async)
*   **API**: [yandex-music-api](https://github.com/MarshalX/yandex-music-api)
*   **–î–µ–ø–ª–æ–π**: Docker & Docker Compose

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ó–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞)

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `Docker` –∏ `Docker Compose`.

1.  **–ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/–¢–í–û–ô_–ù–ò–ö/yandex-music-uploader.git
    cd yandex-music-uploader
    ```

2.  **–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env`:**
    ```bash
    cp .env.example .env  # –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–π —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É—é
    ```
    –ó–∞–ø–æ–ª–Ω–∏ –µ–≥–æ (—Å–º. —Ä–∞–∑–¥–µ–ª "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è" –Ω–∏–∂–µ).
    *–í–∞–∂–Ω–æ: –¥–ª—è Docker –≤ `DATABASE_URL` –∏—Å–ø–æ–ª—å–∑—É–π —Ö–æ—Å—Ç `db`, –∞ –Ω–µ `localhost`.*

3.  **–ó–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞:**
    ```bash
    docker compose up -d --build
    ```
    *(–ï—Å–ª–∏ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è Docker, –∏—Å–ø–æ–ª—å–∑—É–π `docker-compose up -d --build`)*

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–æ (–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

1.  –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
    ```bash
    pip install -r requirements.txt
    ```
2.  –ü–æ–¥–Ω–∏–º–∏ –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É PostgreSQL.
3.  –í `.env` —É–∫–∞–∂–∏ `DATABASE_URL` —Å —Ö–æ—Å—Ç–æ–º `localhost`.
4.  –ó–∞–ø—É—Å—Ç–∏:
    ```bash
    python main.py
    ```

---

## üìù –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏ –µ–≥–æ:

```ini
# –¢–æ–∫–µ–Ω –æ—Ç @BotFather
BOT_TOKEN=123456:ABC-DEF...

# –°—Å—ã–ª–∫–∞ –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL
# –§–æ—Ä–º–∞—Ç: postgresql+asyncpg://USER:PASSWORD@HOST:PORT/DB_NAME
# –î–ª—è Docker –∏—Å–ø–æ–ª—å–∑—É–π host: db
# –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞: localhost
DATABASE_URL=postgresql+asyncpg://postgres:pass@db:5432/music_uploader

# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (—É–∑–Ω–∞—Ç—å —Å–≤–æ–π ID: @userinfobot)
ADMIN_IDS=12345678,87654321
```

---

## ü§ñ –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è?

1.  –ñ–º–∏ **/start**.
2.  –ë–æ—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç —Ç–æ–∫–µ–Ω. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é –µ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ –±–æ—Ç–∞ (–∫–æ–º–∞–Ω–¥–∞ **/help**).
3.  –í—ã–±–µ—Ä–∏ –ø–ª–µ–π–ª–∏—Å—Ç –∫–æ–º–∞–Ω–¥–æ–π **/set_playlist**.
4.  –ù–∞–∂–º–∏ **/add**, —á—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ —Ä–µ–∂–∏–º –∑–∞–≥—Ä—É–∑–∫–∏.
5.  –ö–∏–¥–∞–π **.mp3** —Ñ–∞–π–ª—ã! –ë–æ—Ç —Å–∞–º –≤—Å—ë –æ—Ñ–æ—Ä–º–∏—Ç –∏ –∑–∞–≥—Ä—É–∑–∏—Ç.
6.  –ß—Ç–æ–±—ã –≤—ã–π—Ç–∏, –∂–º–∏ **/end**.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

*   `src/database` ‚Äî –º–æ–¥–µ–ª–∏ –ë–î –∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏.
*   `src/handlers` ‚Äî –ª–æ–≥–∏–∫–∞ –∫–æ–º–∞–Ω–¥ (`/start`, –∑–∞–≥—Ä—É–∑–∫–∞, –∞–¥–º–∏–Ω–∫–∞).
*   `src/middlewares` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
*   `src/utils` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ MP3 –∏ API –Ø–Ω–¥–µ–∫—Å–∞.

---

## ‚ù§Ô∏è kay0k1

Made with love & python.
–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –±—ã–ª –ø–æ–ª–µ–∑–µ–Ω ‚Äî –ø–æ—Å—Ç–∞–≤—å ‚≠ê –Ω–∞ GitHub!